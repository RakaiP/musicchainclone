{"ast":null,"code":"var _jsxFileName = \"/home/fergussojr/Documents/UGM/BlockChain/Demo/finalproject/MusicChain/react/src/components/MusicPlayer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport { makeStyles, Toolbar, Typography, Tooltip, IconButton, Slider, Paper, Badge, Popover, AppBar, ListItem, Button } from \"@material-ui/core\";\nimport MusicNoteIcon from \"@material-ui/icons/MusicNote\";\nimport ReplayIcon from \"@material-ui/icons/Replay\";\nimport SkipPrevious from \"@material-ui/icons/SkipPrevious\";\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@material-ui/icons/PauseCircleFilled\";\nimport RepeatIcon from \"@material-ui/icons/Repeat\";\nimport RepeatOneIcon from \"@material-ui/icons/RepeatOne\";\nimport ShuffleIcon from \"@material-ui/icons/Shuffle\";\nimport ReorderIcon from \"@material-ui/icons/Reorder\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\nimport QueueMusicIcon from \"@material-ui/icons/QueueMusic\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DeleteIcon from \"@material-ui/icons/Delete\"; // const test = [\n//   {id: 0, name: \"Silence\", artist: \"Khalid\", onChoose: true, onPlay: false, src: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/Marshmello%20-%20Silence%20ft.%20Khalid.mp3'},\n//   {id: 1, name: \"Fireproof\", artist: \"VAX, Teddy Sky\", onChoose: false, onPlay: false, src: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/VAX%20-%20Fireproof%20Feat%20Teddy%20Sky.mp3'},\n// ]\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  iconPaper: {\n    padding: theme.spacing(1.5),\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: \"#fafafa\",\n    borderRadius: theme.spacing(4)\n  },\n  icon: {\n    color: \"#909090\"\n  },\n  songInfo: {\n    marginLeft: 20,\n    width: \"36%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    color: \"#808080\"\n  },\n  sliderInfo: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: \"#808080\"\n  },\n  songSlider: {\n    marginLeft: theme.spacing(3),\n    marginRight: theme.spacing(3),\n    color: \"#909090\"\n  },\n  volumeSlider: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: \"10%\",\n    color: \"#909090\"\n  },\n  playlistPaper: {\n    width: 500,\n    height: 450,\n    backgroundColor: \"#FDFAF6\"\n  },\n  listItemPaper: {\n    height: \"100%\",\n    width: \"100%\",\n    marginTop: \"10%\",\n    overflowY: \"auto\"\n  },\n  playlistTitle: {\n    paddingLeft: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"#FCFAFA\",\n    height: \"10%\"\n  },\n  listItem: {\n    width: \"100%\",\n    height: \"15%\",\n    flexGrow: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    color: \"#606060\",\n    \"&:hover\": {\n      cursor: \"pointer\",\n      backgroundColor: \"#FFEEEE\"\n    }\n  },\n  listItem_chosen: {\n    backgroundColor: \"#FFEEEE\"\n  }\n}));\nexport default function MusicPlayer(props) {\n  _s();\n\n  const classes = useStyles();\n  const [controlState, setControlState] = useState(1);\n  const [onplayState, setOnplayState] = useState(false);\n  const [volume, setVolume] = useState(0.4);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const musicList = props.musicList;\n  const setMusicList = props.setMusicList;\n  const defaultPlaying = musicList.find(m => m.onChoose === true) ? musicList.find(m => m.onChoose === true) : {\n    id: \"dummy\",\n    name: \"Song name\",\n    artist: \"Song artist\",\n    onChoose: false,\n    onPlay: false,\n    src: null\n  };\n  const [nowPlaying, setNowPlaying] = useState(defaultPlaying);\n  const [audio, setAudio] = useState(new Audio(nowPlaying.src));\n  const [durationTime, setDurationTime] = useState(0);\n  const [progressTime, setProgressTime] = useState(0);\n  useEffect(() => {\n    let music = musicList.find(m => m.onChoose === true);\n\n    if (music) {\n      handleSwitchAudio(music);\n    }\n  }, [defaultPlaying]);\n  useEffect(() => {\n    audio.onloadedmetadata = () => {\n      setDurationTime(audio.duration);\n    };\n\n    audio.onloadeddata = () => {\n      audio.play();\n    };\n\n    audio.ontimeupdate = () => {\n      setProgressTime(audio.currentTime);\n    };\n\n    audio.onended = () => {\n      setProgressTime(0);\n      audio.currentTime = 0;\n      setOnplayState(false);\n    };\n  }, [audio]);\n  audio.volume = volume;\n\n  const getTime = timeload => {\n    let min = Math.floor(timeload / 60);\n    let sec = Math.floor(timeload % 60);\n\n    if (min < 10) {\n      if (sec < 10) {\n        return \"0\" + min + \":0\" + sec;\n      }\n\n      return \"0\" + min + \":\" + sec;\n    } else {\n      if (sec < 10) {\n        return min + \":0\" + sec;\n      }\n\n      return min + \":\" + sec;\n    }\n  };\n\n  const handlePlaylistClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handlePlaylistClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleSwitchAudio = music => {\n    music.id === \"dummy\" ? setOnplayState(false) : setOnplayState(true);\n    audio.pause();\n    audio.remove();\n    setProgressTime(0);\n    setNowPlaying(music);\n    setAudio(new Audio(music.src));\n    audio.currentTime = 0;\n  };\n\n  const playlist_open = Boolean(anchorEl);\n  const playlist_id = playlist_open ? \"simple-popover\" : undefined;\n  const useSpinStyles = makeStyles(() => ({\n    iconPaper_rotate: {\n      animation: \"$spin 8s linear infinite\"\n    },\n    \"@keyframes spin\": {\n      \"0%\": {\n        transform: `rotate(-${audio.currentTime * 45 % 360}deg)`\n      },\n      \"100%\": {\n        transform: `rotate(-${360 + audio.currentTime * 45 % 360}deg)`\n      }\n    }\n  }));\n  const spinIconClasses = useSpinStyles();\n\n  document.body.onkeyup = function (event) {\n    if (event.keyCode == 32) {\n      if (onplayState === false) {\n        audio.play();\n      } else {\n        audio.pause();\n      }\n\n      setOnplayState(!onplayState);\n    }\n  };\n\n  const PlayPauseControl = (onplay, size = \"large\") => {\n    switch (onplay) {\n      case false:\n        return /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Click to play\",\n          \"aria-label\": \"click to play\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"start\",\n            onClick: () => {\n              setOnplayState(true);\n              let newList = musicList.map(m => {\n                if (m.id === nowPlaying.id) {\n                  m.onPlay = !onplayState;\n                }\n\n                return m;\n              });\n              setMusicList(newList);\n              audio.play();\n            },\n            children: /*#__PURE__*/_jsxDEV(PlayCircleFilledIcon, {\n              fontSize: size,\n              className: classes.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this);\n\n      case true:\n        return /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Click to pause\",\n          \"aria-label\": \"click to pause\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"start\",\n            onClick: () => {\n              setOnplayState(false);\n              let newList = musicList.map(m => {\n                if (m.id === nowPlaying.id) {\n                  m.onPlay = !onplayState;\n                }\n\n                return m;\n              });\n              setMusicList(newList);\n              audio.pause();\n            },\n            children: /*#__PURE__*/_jsxDEV(PauseCircleFilledIcon, {\n              fontSize: size,\n              className: classes.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this);\n    }\n  };\n\n  const SubControls = control => {\n    switch (control) {\n      case 0:\n        var id = musicList.findIndex(m => m.id === nowPlaying.id);\n\n        audio.onended = () => {\n          var newList = musicList.map(m => {\n            m.onPlay = true;\n            m.onChoose = false;\n\n            if (id !== musicList.length - 1) {\n              if (m.id === musicList[id + 1].id) {\n                m.onChoose = true;\n              }\n            }\n\n            if (m.id === nowPlaying.id && m.id !== musicList[id].id) {\n              m.onPlay = !onplayState;\n            }\n\n            return m;\n          });\n          setMusicList(newList);\n\n          if (id === musicList.length - 1) {\n            setProgressTime(0);\n            setDurationTime(0);\n            handleSwitchAudio({\n              id: \"dummy\",\n              name: \"Song name\",\n              artist: \"Song artist\",\n              onChoose: false,\n              onPlay: false,\n              src: \"\"\n            });\n          }\n        };\n\n        return /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Play in order\",\n          \"aria-label\": \"play in order\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"start\",\n            onClick: () => {\n              setControlState(controlState + 1);\n            },\n            children: /*#__PURE__*/_jsxDEV(ReorderIcon, {\n              fontSize: \"large\",\n              className: classes.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this);\n\n      case 1:\n        var id = Math.floor(Math.random() * musicList.length);\n\n        audio.onended = () => {\n          var newList = musicList.map(m => {\n            m.onPlay = true;\n            m.onChoose = false;\n\n            if (m.id === musicList[id].id) {\n              m.onChoose = true;\n            }\n\n            if (m.id === nowPlaying.id && m.id !== musicList[id].id) {\n              m.onPlay = !onplayState;\n            }\n\n            return m;\n          });\n          setMusicList(newList);\n\n          if (newList.length !== 0) {\n            audio.pause();\n            audio.remove();\n\n            if (nowPlaying.id === musicList[id].id) {\n              handleSwitchAudio(musicList[id]);\n            }\n          } else {\n            setProgressTime(0);\n            setDurationTime(0);\n            handleSwitchAudio({\n              id: \"dummy\",\n              name: \"Song name\",\n              artist: \"Song artist\",\n              onChoose: false,\n              onPlay: false,\n              src: null\n            });\n          }\n        };\n\n        return /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Shuffle playback\",\n          \"aria-label\": \"shuffle playback\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"start\",\n            onClick: () => {\n              setControlState(controlState + 1);\n            },\n            children: /*#__PURE__*/_jsxDEV(ShuffleIcon, {\n              fontSize: \"large\",\n              className: classes.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this);\n\n      case 2:\n        var id = musicList.findIndex(m => m.id === nowPlaying.id);\n\n        audio.onended = () => {\n          var newList = musicList.map(m => {\n            m.onPlay = true;\n            m.onChoose = false;\n\n            if (id !== musicList.length - 1) {\n              if (m.id === musicList[id + 1].id) {\n                m.onChoose = true;\n              }\n            } else {\n              if (m.id === musicList[0].id) {\n                m.onChoose = true;\n              }\n            }\n\n            if (m.id === nowPlaying.id && m.id !== musicList[id].id) {\n              m.onPlay = !onplayState;\n            }\n\n            return m;\n          });\n          setMusicList(newList);\n\n          if (newList.length === 0) {\n            setProgressTime(0);\n            setDurationTime(0);\n            handleSwitchAudio({\n              id: \"dummy\",\n              name: \"Song name\",\n              artist: \"Song artist\",\n              onChoose: false,\n              onPlay: false,\n              src: null\n            });\n          } else if (newList.length === 1) {\n            handleSwitchAudio(musicList[0]);\n          }\n        };\n\n        return /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"List loop\",\n          \"aria-label\": \"list loop\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"start\",\n            onClick: () => {\n              setControlState(controlState + 1);\n            },\n            children: /*#__PURE__*/_jsxDEV(RepeatIcon, {\n              fontSize: \"large\",\n              className: classes.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this);\n\n      case 3:\n        audio.onended = () => {\n          audio.pause();\n          setProgressTime(0);\n          setOnplayState(true);\n          audio.currentTime = 0;\n          audio.play();\n        };\n\n        return /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Single loop\",\n          \"aria-label\": \"single loop\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"start\",\n            onClick: () => {\n              setControlState(0);\n            },\n            children: /*#__PURE__*/_jsxDEV(RepeatOneIcon, {\n              fontSize: \"large\",\n              className: classes.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Toolbar, {\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      className: clsx(classes.iconPaper, onplayState && spinIconClasses.iconPaper_rotate),\n      style: {\n        transform: `rotate(-${audio.currentTime * 45 % 360}deg)`\n      },\n      children: /*#__PURE__*/_jsxDEV(MusicNoteIcon, {\n        className: classes.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.songInfo,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        children: [nowPlaying.name, \" - \", nowPlaying.artist]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.sliderInfo,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: getTime(progressTime)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Slider, {\n          min: 0,\n          value: progressTime,\n          max: durationTime,\n          onChange: (_, newValue) => {\n            setProgressTime(newValue);\n            audio.currentTime = newValue;\n          },\n          className: classes.songSlider,\n          \"aria-labelledby\": \"continuous-slider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: getTime(durationTime)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      style: {\n        width: \"4%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Replay\",\n      \"aria-label\": \"click to replay\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        edge: \"start\",\n        onClick: () => {\n          audio.pause();\n          setProgressTime(0);\n          setOnplayState(true);\n          audio.currentTime = 0;\n          audio.play();\n        },\n        children: /*#__PURE__*/_jsxDEV(ReplayIcon, {\n          fontSize: \"large\",\n          className: classes.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 7\n    }, this), nowPlaying.id === \"dummy\" || musicList.length === 0 ? /*#__PURE__*/_jsxDEV(IconButton, {\n      edge: \"start\",\n      disabled: nowPlaying.id === \"dummy\" || musicList.length === 0,\n      children: /*#__PURE__*/_jsxDEV(SkipPrevious, {\n        fontSize: \"large\",\n        className: classes.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Previous track\",\n      \"aria-label\": \"skip to previous\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        edge: \"start\",\n        onClick: () => {\n          let id = musicList.findIndex(m => m.id === nowPlaying.id);\n          let music = id === 0 ? musicList[musicList.length - 1] : musicList[id - 1];\n          let newList = musicList.map(m => {\n            m.onPlay = true;\n            m.onChoose = false;\n\n            if (m.id === music.id) {\n              m.onChoose = true;\n            }\n\n            if (m.id === nowPlaying.id && m.id !== music.id) {\n              m.onPlay = !onplayState;\n            }\n\n            return m;\n          });\n          setMusicList(newList);\n\n          if (nowPlaying.id === music.id) {\n            handleSwitchAudio(music);\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(SkipPrevious, {\n          fontSize: \"large\",\n          className: classes.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 9\n    }, this), PlayPauseControl(onplayState), nowPlaying.id === \"dummy\" || musicList.length === 0 ? /*#__PURE__*/_jsxDEV(IconButton, {\n      edge: \"start\",\n      disabled: nowPlaying.id === \"dummy\" || musicList.length === 0,\n      children: /*#__PURE__*/_jsxDEV(SkipNextIcon, {\n        fontSize: \"large\",\n        className: classes.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 569,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Next track\",\n      \"aria-label\": \"skip to next\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        edge: \"start\",\n        onClick: () => {\n          let id = musicList.findIndex(m => m.id === nowPlaying.id);\n          let music = id === musicList.length - 1 ? musicList[0] : musicList[id + 1];\n          let newList = musicList.map(m => {\n            m.onPlay = true;\n            m.onChoose = false;\n\n            if (m.id === music.id) {\n              m.onChoose = true;\n            }\n\n            if (m.id === nowPlaying.id && m.id !== music.id) {\n              m.onPlay = !onplayState;\n            }\n\n            return m;\n          });\n          setMusicList(newList);\n\n          if (nowPlaying.id === music.id) {\n            handleSwitchAudio(music);\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(SkipNextIcon, {\n          fontSize: \"large\",\n          className: classes.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 9\n    }, this), SubControls(controlState), /*#__PURE__*/_jsxDEV(Paper, {\n      style: {\n        width: \"3%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VolumeDownIcon, {\n      fontSize: \"large\",\n      className: classes.icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Slider, {\n      className: classes.volumeSlider,\n      min: 0,\n      step: 0.02,\n      max: 1,\n      value: volume,\n      onChange: (_, newValue) => {\n        setVolume(newValue);\n      },\n      \"aria-labelledby\": \"continuous-slider\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 610,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VolumeUpIcon, {\n      fontSize: \"large\",\n      className: classes.icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 621,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      style: {\n        width: \"3%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Playlists\",\n      \"aria-label\": \"playlists\",\n      children: /*#__PURE__*/_jsxDEV(IconButton, {\n        edge: \"start\",\n        \"aria-describedby\": playlist_id,\n        onClick: event => {\n          handlePlaylistClick(event);\n        },\n        children: /*#__PURE__*/_jsxDEV(Badge, {\n          badgeContent: musicList.length,\n          color: \"secondary\",\n          style: {\n            backgroundColor: \"#eaeaea\",\n            borderRadius: \"12px\",\n            padding: \"2px\"\n          },\n          showZero: true,\n          children: /*#__PURE__*/_jsxDEV(QueueMusicIcon, {\n            fontSize: \"large\",\n            className: classes.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popover, {\n      id: playlist_id,\n      open: playlist_open,\n      anchorEl: anchorEl,\n      onClose: () => {\n        handlePlaylistClose();\n      },\n      anchorOrigin: {\n        vertical: \"top\",\n        horizontal: \"center\"\n      },\n      transformOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.playlistPaper,\n        children: [/*#__PURE__*/_jsxDEV(AppBar, {\n          position: \"absolute\",\n          className: classes.playlistTitle,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            component: \"h2\",\n            variant: \"h6\",\n            color: \"inherit\",\n            noWrap: true,\n            style: {\n              color: \"#808080\",\n              flexGrow: 1\n            },\n            children: [\"Playlists / \", musicList.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Delete audio lists\",\n            \"aria-label\": \"delete audio lists\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              edge: \"start\",\n              onClick: () => {\n                // Fix\n                audio.pause();\n                audio.remove();\n                setProgressTime(0);\n                setDurationTime(0);\n                handleSwitchAudio({\n                  id: \"dummy\",\n                  name: \"Song name\",\n                  artist: \"Song artist\",\n                  onChoose: false,\n                  onPlay: false,\n                  src: null\n                });\n                setMusicList([]);\n              },\n              children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n                className: classes.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: \"Close Playlists\",\n            \"aria-label\": \"close lists\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              edge: \"start\",\n              onClick: () => {\n                setAnchorEl(null);\n              },\n              children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n                className: classes.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 706,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.listItemPaper,\n          children: musicList.map(music => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              button: \"true\",\n              className: clsx(classes.listItem, music.onChoose && classes.listItem_chosen),\n              children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                style: {\n                  height: \"100%\"\n                },\n                onClick: () => {\n                  let newList = musicList.map(m => {\n                    m.onPlay = true;\n                    m.onChoose = false;\n\n                    if (m.id === music.id) {\n                      m.onChoose = true;\n                    }\n\n                    if (m.id === nowPlaying.id) {\n                      m.onPlay = !onplayState;\n                    }\n\n                    return m;\n                  });\n                  setMusicList(newList);\n\n                  if (nowPlaying.id === music.id) {\n                    if (onplayState) {\n                      setOnplayState(false);\n                      audio.pause();\n                    } else {\n                      setOnplayState(true);\n                      audio.play();\n                    }\n                  }\n                },\n                children: [music.onChoose ? !music.onPlay ? /*#__PURE__*/_jsxDEV(PlayCircleFilledIcon, {\n                  style: {\n                    position: \"absolute\",\n                    width: \"5%\"\n                  },\n                  className: classes.icon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 750,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(PauseCircleFilledIcon, {\n                  style: {\n                    position: \"absolute\",\n                    width: \"5%\"\n                  },\n                  className: classes.icon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 25\n                }, this) : null, /*#__PURE__*/_jsxDEV(Typography, {\n                  noWrap: true,\n                  style: {\n                    width: \"50%\",\n                    marginLeft: \"10%\",\n                    marginRight: \"10%\"\n                  },\n                  children: music.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 762,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  noWrap: true,\n                  style: {\n                    width: \"25%\",\n                    marginRight: \"5%\"\n                  },\n                  children: music.artist\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 773,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 19\n              }, this), music.id === nowPlaying.id ? null : /*#__PURE__*/_jsxDEV(Tooltip, {\n                title: \"Click to delete\",\n                \"aria-label\": \"click to delete\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  edge: \"start\",\n                  onClick: () => {\n                    let newList = musicList.filter(m => m.id !== music.id);\n                    console.log(newList);\n                    setMusicList(newList);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n                    fontSize: \"small\",\n                    className: classes.icon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 799,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 789,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 785,\n                columnNumber: 21\n              }, this)]\n            }, music.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 647,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      style: {\n        width: \"7%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 810,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 437,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MusicPlayer, \"xagKoz6o88zO/UvghDh+ePUNG6g=\", true, function () {\n  return [useStyles];\n});\n\n_c = MusicPlayer;\n\nvar _c;\n\n$RefreshReg$(_c, \"MusicPlayer\");","map":{"version":3,"sources":["/home/fergussojr/Documents/UGM/BlockChain/Demo/finalproject/MusicChain/react/src/components/MusicPlayer.js"],"names":["React","useState","useEffect","clsx","makeStyles","Toolbar","Typography","Tooltip","IconButton","Slider","Paper","Badge","Popover","AppBar","ListItem","Button","MusicNoteIcon","ReplayIcon","SkipPrevious","PlayCircleFilledIcon","PauseCircleFilledIcon","RepeatIcon","RepeatOneIcon","ShuffleIcon","ReorderIcon","SkipNextIcon","VolumeDownIcon","VolumeUpIcon","QueueMusicIcon","CloseIcon","DeleteIcon","useStyles","theme","iconPaper","padding","spacing","display","flexDirection","backgroundColor","borderRadius","icon","color","songInfo","marginLeft","width","sliderInfo","justifyContent","alignItems","songSlider","marginRight","volumeSlider","playlistPaper","height","listItemPaper","marginTop","overflowY","playlistTitle","paddingLeft","listItem","flexGrow","cursor","listItem_chosen","MusicPlayer","props","classes","controlState","setControlState","onplayState","setOnplayState","volume","setVolume","anchorEl","setAnchorEl","musicList","setMusicList","defaultPlaying","find","m","onChoose","id","name","artist","onPlay","src","nowPlaying","setNowPlaying","audio","setAudio","Audio","durationTime","setDurationTime","progressTime","setProgressTime","music","handleSwitchAudio","onloadedmetadata","duration","onloadeddata","play","ontimeupdate","currentTime","onended","getTime","timeload","min","Math","floor","sec","handlePlaylistClick","event","currentTarget","handlePlaylistClose","pause","remove","playlist_open","Boolean","playlist_id","undefined","useSpinStyles","iconPaper_rotate","animation","transform","spinIconClasses","document","body","onkeyup","keyCode","PlayPauseControl","onplay","size","newList","map","SubControls","control","findIndex","length","random","_","newValue","vertical","horizontal","position","filter","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\n\nimport {\n  makeStyles,\n  Toolbar,\n  Typography,\n  Tooltip,\n  IconButton,\n  Slider,\n  Paper,\n  Badge,\n  Popover,\n  AppBar,\n  ListItem,\n  Button,\n} from \"@material-ui/core\";\n\nimport MusicNoteIcon from \"@material-ui/icons/MusicNote\";\nimport ReplayIcon from \"@material-ui/icons/Replay\";\nimport SkipPrevious from \"@material-ui/icons/SkipPrevious\";\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\nimport PauseCircleFilledIcon from \"@material-ui/icons/PauseCircleFilled\";\nimport RepeatIcon from \"@material-ui/icons/Repeat\";\nimport RepeatOneIcon from \"@material-ui/icons/RepeatOne\";\nimport ShuffleIcon from \"@material-ui/icons/Shuffle\";\nimport ReorderIcon from \"@material-ui/icons/Reorder\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\nimport QueueMusicIcon from \"@material-ui/icons/QueueMusic\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\n// const test = [\n//   {id: 0, name: \"Silence\", artist: \"Khalid\", onChoose: true, onPlay: false, src: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/Marshmello%20-%20Silence%20ft.%20Khalid.mp3'},\n//   {id: 1, name: \"Fireproof\", artist: \"VAX, Teddy Sky\", onChoose: false, onPlay: false, src: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/308622/VAX%20-%20Fireproof%20Feat%20Teddy%20Sky.mp3'},\n// ]\n\nconst useStyles = makeStyles((theme) => ({\n  iconPaper: {\n    padding: theme.spacing(1.5),\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: \"#fafafa\",\n    borderRadius: theme.spacing(4),\n  },\n  icon: {\n    color: \"#909090\",\n  },\n  songInfo: {\n    marginLeft: 20,\n    width: \"36%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    color: \"#808080\",\n  },\n  sliderInfo: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    color: \"#808080\",\n  },\n  songSlider: {\n    marginLeft: theme.spacing(3),\n    marginRight: theme.spacing(3),\n    color: \"#909090\",\n  },\n  volumeSlider: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: \"10%\",\n    color: \"#909090\",\n  },\n  playlistPaper: {\n    width: 500,\n    height: 450,\n    backgroundColor: \"#FDFAF6\",\n  },\n  listItemPaper: {\n    height: \"100%\",\n    width: \"100%\",\n    marginTop: \"10%\",\n    overflowY: \"auto\",\n  },\n  playlistTitle: {\n    paddingLeft: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    backgroundColor: \"#FCFAFA\",\n    height: \"10%\",\n  },\n  listItem: {\n    width: \"100%\",\n    height: \"15%\",\n    flexGrow: 1,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    color: \"#606060\",\n    \"&:hover\": {\n      cursor: \"pointer\",\n      backgroundColor: \"#FFEEEE\",\n    },\n  },\n  listItem_chosen: {\n    backgroundColor: \"#FFEEEE\",\n  },\n}));\n\nexport default function MusicPlayer(props) {\n  const classes = useStyles();\n  const [controlState, setControlState] = useState(1);\n  const [onplayState, setOnplayState] = useState(false);\n  const [volume, setVolume] = useState(0.4);\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const musicList = props.musicList;\n  const setMusicList = props.setMusicList;\n\n  const defaultPlaying = musicList.find((m) => m.onChoose === true)\n    ? musicList.find((m) => m.onChoose === true)\n    : {\n        id: \"dummy\",\n        name: \"Song name\",\n        artist: \"Song artist\",\n        onChoose: false,\n        onPlay: false,\n        src: null,\n      };\n  const [nowPlaying, setNowPlaying] = useState(defaultPlaying);\n  const [audio, setAudio] = useState(new Audio(nowPlaying.src));\n  const [durationTime, setDurationTime] = useState(0);\n  const [progressTime, setProgressTime] = useState(0);\n\n  useEffect(() => {\n    let music = musicList.find((m) => m.onChoose === true);\n    if (music) {\n      handleSwitchAudio(music);\n    }\n  }, [defaultPlaying]);\n\n  useEffect(() => {\n    audio.onloadedmetadata = () => {\n      setDurationTime(audio.duration);\n    };\n    audio.onloadeddata = () => {\n      audio.play();\n    };\n    audio.ontimeupdate = () => {\n      setProgressTime(audio.currentTime);\n    };\n    audio.onended = () => {\n      setProgressTime(0);\n      audio.currentTime = 0;\n      setOnplayState(false);\n    };\n  }, [audio]);\n  audio.volume = volume;\n\n  const getTime = (timeload) => {\n    let min = Math.floor(timeload / 60);\n    let sec = Math.floor(timeload % 60);\n\n    if (min < 10) {\n      if (sec < 10) {\n        return \"0\" + min + \":0\" + sec;\n      }\n      return \"0\" + min + \":\" + sec;\n    } else {\n      if (sec < 10) {\n        return min + \":0\" + sec;\n      }\n      return min + \":\" + sec;\n    }\n  };\n\n  const handlePlaylistClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handlePlaylistClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleSwitchAudio = (music) => {\n    music.id === \"dummy\" ? setOnplayState(false) : setOnplayState(true);\n    audio.pause();\n    audio.remove();\n    setProgressTime(0);\n    setNowPlaying(music);\n    setAudio(new Audio(music.src));\n    audio.currentTime = 0;\n  };\n\n  const playlist_open = Boolean(anchorEl);\n  const playlist_id = playlist_open ? \"simple-popover\" : undefined;\n\n  const useSpinStyles = makeStyles(() => ({\n    iconPaper_rotate: {\n      animation: \"$spin 8s linear infinite\",\n    },\n    \"@keyframes spin\": {\n      \"0%\": {\n        transform: `rotate(-${(audio.currentTime * 45) % 360}deg)`,\n      },\n      \"100%\": {\n        transform: `rotate(-${360 + ((audio.currentTime * 45) % 360)}deg)`,\n      },\n    },\n  }));\n  const spinIconClasses = useSpinStyles();\n\n  document.body.onkeyup = function (event) {\n    if (event.keyCode == 32) {\n      if (onplayState === false) {\n        audio.play();\n      } else {\n        audio.pause();\n      }\n      setOnplayState(!onplayState);\n    }\n  };\n\n  const PlayPauseControl = (onplay, size = \"large\") => {\n    switch (onplay) {\n      case false:\n        return (\n          <Tooltip title=\"Click to play\" aria-label=\"click to play\">\n            <IconButton\n              edge=\"start\"\n              onClick={() => {\n                setOnplayState(true);\n                let newList = musicList.map((m) => {\n                  if (m.id === nowPlaying.id) {\n                    m.onPlay = !onplayState;\n                  }\n                  return m;\n                });\n                setMusicList(newList);\n                audio.play();\n              }}\n            >\n              <PlayCircleFilledIcon fontSize={size} className={classes.icon} />\n            </IconButton>\n          </Tooltip>\n        );\n      case true:\n        return (\n          <Tooltip title=\"Click to pause\" aria-label=\"click to pause\">\n            <IconButton\n              edge=\"start\"\n              onClick={() => {\n                setOnplayState(false);\n                let newList = musicList.map((m) => {\n                  if (m.id === nowPlaying.id) {\n                    m.onPlay = !onplayState;\n                  }\n                  return m;\n                });\n                setMusicList(newList);\n                audio.pause();\n              }}\n            >\n              <PauseCircleFilledIcon fontSize={size} className={classes.icon} />\n            </IconButton>\n          </Tooltip>\n        );\n    }\n  };\n\n  const SubControls = (control) => {\n    switch (control) {\n      case 0:\n        var id = musicList.findIndex((m) => m.id === nowPlaying.id);\n        audio.onended = () => {\n          var newList = musicList.map((m) => {\n            m.onPlay = true;\n            m.onChoose = false;\n            if (id !== musicList.length - 1) {\n              if (m.id === musicList[id + 1].id) {\n                m.onChoose = true;\n              }\n            }\n            if (m.id === nowPlaying.id && m.id !== musicList[id].id) {\n              m.onPlay = !onplayState;\n            }\n            return m;\n          });\n          setMusicList(newList);\n          if (id === musicList.length - 1) {\n            setProgressTime(0);\n            setDurationTime(0);\n            handleSwitchAudio({\n              id: \"dummy\",\n              name: \"Song name\",\n              artist: \"Song artist\",\n              onChoose: false,\n              onPlay: false,\n              src: \"\",\n            });\n          }\n        };\n        return (\n          <Tooltip title=\"Play in order\" aria-label=\"play in order\">\n            <IconButton\n              edge=\"start\"\n              onClick={() => {\n                setControlState(controlState + 1);\n              }}\n            >\n              <ReorderIcon fontSize=\"large\" className={classes.icon} />\n            </IconButton>\n          </Tooltip>\n        );\n      case 1:\n        var id = Math.floor(Math.random() * musicList.length);\n        audio.onended = () => {\n          var newList = musicList.map((m) => {\n            m.onPlay = true;\n            m.onChoose = false;\n            if (m.id === musicList[id].id) {\n              m.onChoose = true;\n            }\n            if (m.id === nowPlaying.id && m.id !== musicList[id].id) {\n              m.onPlay = !onplayState;\n            }\n            return m;\n          });\n          setMusicList(newList);\n          if (newList.length !== 0) {\n            audio.pause();\n            audio.remove();\n            if (nowPlaying.id === musicList[id].id) {\n              handleSwitchAudio(musicList[id]);\n            }\n          } else {\n            setProgressTime(0);\n            setDurationTime(0);\n            handleSwitchAudio({\n              id: \"dummy\",\n              name: \"Song name\",\n              artist: \"Song artist\",\n              onChoose: false,\n              onPlay: false,\n              src: null,\n            });\n          }\n        };\n        return (\n          <Tooltip title=\"Shuffle playback\" aria-label=\"shuffle playback\">\n            <IconButton\n              edge=\"start\"\n              onClick={() => {\n                setControlState(controlState + 1);\n              }}\n            >\n              <ShuffleIcon fontSize=\"large\" className={classes.icon} />\n            </IconButton>\n          </Tooltip>\n        );\n      case 2:\n        var id = musicList.findIndex((m) => m.id === nowPlaying.id);\n        audio.onended = () => {\n          var newList = musicList.map((m) => {\n            m.onPlay = true;\n            m.onChoose = false;\n            if (id !== musicList.length - 1) {\n              if (m.id === musicList[id + 1].id) {\n                m.onChoose = true;\n              }\n            } else {\n              if (m.id === musicList[0].id) {\n                m.onChoose = true;\n              }\n            }\n            if (m.id === nowPlaying.id && m.id !== musicList[id].id) {\n              m.onPlay = !onplayState;\n            }\n            return m;\n          });\n          setMusicList(newList);\n          if (newList.length === 0) {\n            setProgressTime(0);\n            setDurationTime(0);\n            handleSwitchAudio({\n              id: \"dummy\",\n              name: \"Song name\",\n              artist: \"Song artist\",\n              onChoose: false,\n              onPlay: false,\n              src: null,\n            });\n          } else if (newList.length === 1) {\n            handleSwitchAudio(musicList[0]);\n          }\n        };\n        return (\n          <Tooltip title=\"List loop\" aria-label=\"list loop\">\n            <IconButton\n              edge=\"start\"\n              onClick={() => {\n                setControlState(controlState + 1);\n              }}\n            >\n              <RepeatIcon fontSize=\"large\" className={classes.icon} />\n            </IconButton>\n          </Tooltip>\n        );\n      case 3:\n        audio.onended = () => {\n          audio.pause();\n          setProgressTime(0);\n          setOnplayState(true);\n          audio.currentTime = 0;\n          audio.play();\n        };\n        return (\n          <Tooltip title=\"Single loop\" aria-label=\"single loop\">\n            <IconButton\n              edge=\"start\"\n              onClick={() => {\n                setControlState(0);\n              }}\n            >\n              <RepeatOneIcon fontSize=\"large\" className={classes.icon} />\n            </IconButton>\n          </Tooltip>\n        );\n    }\n  };\n\n  return (\n    <Toolbar>\n      {/* <Button\n        onClick={() => {\n          let music = {\n            id: test[0].id,\n            name: test[0].name,\n            artist: test[0].artist,\n            onChoose: true, \n            onPlay: true, \n            src: test[0].src,\n          }\n          let newList = musicList.map(m => {\n            m.onPlay = true;\n            m.onChoose = false;\n            return m;\n          })\n          setMusicList([...newList, music]);\n        }} \n      >\n        click 1\n      </Button>\n      <Button\n        onClick={() => {\n          let music = {\n            id: test[1].id,\n            name: test[1].name,\n            artist: test[1].artist,\n            onChoose: true, \n            onPlay: true, \n            src: test[1].src,\n          }\n          let newList = musicList.map(m => {\n            m.onPlay = true;\n            m.onChoose = false;\n            return m;\n          })\n          setMusicList([...newList, music]);\n        }} \n      >\n        click 2\n      </Button> */}\n      <Paper\n        className={clsx(\n          classes.iconPaper,\n          onplayState && spinIconClasses.iconPaper_rotate\n        )}\n        style={{\n          transform: `rotate(-${(audio.currentTime * 45) % 360}deg)`,\n        }}\n      >\n        <MusicNoteIcon className={classes.icon} />\n      </Paper>\n\n      <div className={classes.songInfo}>\n        <Typography>\n          {nowPlaying.name} - {nowPlaying.artist}\n        </Typography>\n\n        <div className={classes.sliderInfo}>\n          <span>{getTime(progressTime)}</span>\n          <Slider\n            min={0}\n            value={progressTime}\n            max={durationTime}\n            onChange={(_, newValue) => {\n              setProgressTime(newValue);\n              audio.currentTime = newValue;\n            }}\n            className={classes.songSlider}\n            aria-labelledby=\"continuous-slider\"\n          />\n          <span>{getTime(durationTime)}</span>\n        </div>\n      </div>\n\n      <Paper style={{ width: \"4%\" }}></Paper>\n\n      <Tooltip title=\"Replay\" aria-label=\"click to replay\">\n        <IconButton\n          edge=\"start\"\n          onClick={() => {\n            audio.pause();\n            setProgressTime(0);\n            setOnplayState(true);\n            audio.currentTime = 0;\n            audio.play();\n          }}\n        >\n          <ReplayIcon fontSize=\"large\" className={classes.icon} />\n        </IconButton>\n      </Tooltip>\n\n      {nowPlaying.id === \"dummy\" || musicList.length === 0 ? (\n        <IconButton\n          edge=\"start\"\n          disabled={nowPlaying.id === \"dummy\" || musicList.length === 0}\n        >\n          <SkipPrevious fontSize=\"large\" className={classes.icon} />\n        </IconButton>\n      ) : (\n        <Tooltip title=\"Previous track\" aria-label=\"skip to previous\">\n          <IconButton\n            edge=\"start\"\n            onClick={() => {\n              let id = musicList.findIndex((m) => m.id === nowPlaying.id);\n              let music =\n                id === 0 ? musicList[musicList.length - 1] : musicList[id - 1];\n              let newList = musicList.map((m) => {\n                m.onPlay = true;\n                m.onChoose = false;\n                if (m.id === music.id) {\n                  m.onChoose = true;\n                }\n                if (m.id === nowPlaying.id && m.id !== music.id) {\n                  m.onPlay = !onplayState;\n                }\n                return m;\n              });\n              setMusicList(newList);\n              if (nowPlaying.id === music.id) {\n                handleSwitchAudio(music);\n              }\n            }}\n          >\n            <SkipPrevious fontSize=\"large\" className={classes.icon} />\n          </IconButton>\n        </Tooltip>\n      )}\n\n      {PlayPauseControl(onplayState)}\n\n      {nowPlaying.id === \"dummy\" || musicList.length === 0 ? (\n        <IconButton\n          edge=\"start\"\n          disabled={nowPlaying.id === \"dummy\" || musicList.length === 0}\n        >\n          <SkipNextIcon fontSize=\"large\" className={classes.icon} />\n        </IconButton>\n      ) : (\n        <Tooltip title=\"Next track\" aria-label=\"skip to next\">\n          <IconButton\n            edge=\"start\"\n            onClick={() => {\n              let id = musicList.findIndex((m) => m.id === nowPlaying.id);\n              let music =\n                id === musicList.length - 1 ? musicList[0] : musicList[id + 1];\n              let newList = musicList.map((m) => {\n                m.onPlay = true;\n                m.onChoose = false;\n                if (m.id === music.id) {\n                  m.onChoose = true;\n                }\n                if (m.id === nowPlaying.id && m.id !== music.id) {\n                  m.onPlay = !onplayState;\n                }\n                return m;\n              });\n              setMusicList(newList);\n              if (nowPlaying.id === music.id) {\n                handleSwitchAudio(music);\n              }\n            }}\n          >\n            <SkipNextIcon fontSize=\"large\" className={classes.icon} />\n          </IconButton>\n        </Tooltip>\n      )}\n\n      {SubControls(controlState)}\n\n      <Paper style={{ width: \"3%\" }}></Paper>\n\n      <VolumeDownIcon fontSize=\"large\" className={classes.icon} />\n      <Slider\n        className={classes.volumeSlider}\n        min={0}\n        step={0.02}\n        max={1}\n        value={volume}\n        onChange={(_, newValue) => {\n          setVolume(newValue);\n        }}\n        aria-labelledby=\"continuous-slider\"\n      />\n      <VolumeUpIcon fontSize=\"large\" className={classes.icon} />\n\n      <Paper style={{ width: \"3%\" }}></Paper>\n\n      <Tooltip title=\"Playlists\" aria-label=\"playlists\">\n        <IconButton\n          edge=\"start\"\n          aria-describedby={playlist_id}\n          onClick={(event) => {\n            handlePlaylistClick(event);\n          }}\n        >\n          <Badge\n            badgeContent={musicList.length}\n            color=\"secondary\"\n            style={{\n              backgroundColor: \"#eaeaea\",\n              borderRadius: \"12px\",\n              padding: \"2px\",\n            }}\n            showZero\n          >\n            <QueueMusicIcon fontSize=\"large\" className={classes.icon} />\n          </Badge>\n        </IconButton>\n      </Tooltip>\n      <Popover\n        id={playlist_id}\n        open={playlist_open}\n        anchorEl={anchorEl}\n        onClose={() => {\n          handlePlaylistClose();\n        }}\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper className={classes.playlistPaper}>\n          <AppBar position=\"absolute\" className={classes.playlistTitle}>\n            <Typography\n              component=\"h2\"\n              variant=\"h6\"\n              color=\"inherit\"\n              noWrap\n              style={{ color: \"#808080\", flexGrow: 1 }}\n            >\n              Playlists / {musicList.length}\n            </Typography>\n\n            <Tooltip title=\"Delete audio lists\" aria-label=\"delete audio lists\">\n              <IconButton\n                edge=\"start\"\n                onClick={() => {\n                  // Fix\n                  audio.pause();\n                  audio.remove();\n                  setProgressTime(0);\n                  setDurationTime(0);\n                  handleSwitchAudio({\n                    id: \"dummy\",\n                    name: \"Song name\",\n                    artist: \"Song artist\",\n                    onChoose: false,\n                    onPlay: false,\n                    src: null,\n                  });\n                  setMusicList([]);\n                }}\n              >\n                <DeleteIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n\n            <Tooltip title=\"Close Playlists\" aria-label=\"close lists\">\n              <IconButton\n                edge=\"start\"\n                onClick={() => {\n                  setAnchorEl(null);\n                }}\n              >\n                <CloseIcon className={classes.icon} />\n              </IconButton>\n            </Tooltip>\n          </AppBar>\n\n          <div className={classes.listItemPaper}>\n            {musicList.map((music) => {\n              return (\n                <div\n                  key={music.id}\n                  button=\"true\"\n                  className={clsx(\n                    classes.listItem,\n                    music.onChoose && classes.listItem_chosen\n                  )}\n                >\n                  <ListItem\n                    style={{ height: \"100%\" }}\n                    onClick={() => {\n                      let newList = musicList.map((m) => {\n                        m.onPlay = true;\n                        m.onChoose = false;\n                        if (m.id === music.id) {\n                          m.onChoose = true;\n                        }\n                        if (m.id === nowPlaying.id) {\n                          m.onPlay = !onplayState;\n                        }\n                        return m;\n                      });\n                      setMusicList(newList);\n                      if (nowPlaying.id === music.id) {\n                        if (onplayState) {\n                          setOnplayState(false);\n                          audio.pause();\n                        } else {\n                          setOnplayState(true);\n                          audio.play();\n                        }\n                      }\n                    }}\n                  >\n                    {music.onChoose ? (\n                      !music.onPlay ? (\n                        <PlayCircleFilledIcon\n                          style={{ position: \"absolute\", width: \"5%\" }}\n                          className={classes.icon}\n                        />\n                      ) : (\n                        <PauseCircleFilledIcon\n                          style={{ position: \"absolute\", width: \"5%\" }}\n                          className={classes.icon}\n                        />\n                      )\n                    ) : null}\n\n                    <Typography\n                      noWrap\n                      style={{\n                        width: \"50%\",\n                        marginLeft: \"10%\",\n                        marginRight: \"10%\",\n                      }}\n                    >\n                      {music.name}\n                    </Typography>\n\n                    <Typography\n                      noWrap\n                      style={{\n                        width: \"25%\",\n                        marginRight: \"5%\",\n                      }}\n                    >\n                      {music.artist}\n                    </Typography>\n                  </ListItem>\n\n                  {music.id === nowPlaying.id ? null : (\n                    <Tooltip\n                      title=\"Click to delete\"\n                      aria-label=\"click to delete\"\n                    >\n                      <IconButton\n                        edge=\"start\"\n                        onClick={() => {\n                          let newList = musicList.filter(\n                            (m) => m.id !== music.id\n                          );\n                          console.log(newList);\n                          setMusicList(newList);\n                        }}\n                      >\n                        <CloseIcon fontSize=\"small\" className={classes.icon} />\n                      </IconButton>\n                    </Tooltip>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </Paper>\n      </Popover>\n\n      <Paper style={{ width: \"7%\" }}></Paper>\n\n      {/* <Tooltip title=\"Close\" aria-label=\"close\">\n        <IconButton\n          edge=\"end\"\n          onClick={() => {\n\n          }}\n        >\n          <CloseIcon className={classes.icon}/>\n        </IconButton>\n      </Tooltip> */}\n    </Toolbar>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}